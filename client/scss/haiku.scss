@import 'variables';
@import "{francocatena:compass}/compass";

.haiku {
  position: relative;
  background-position: center center;
  background-size: cover;
  -webkit-transform-style: preserve-3d;
  -moz-transform-style: preserve-3d;
  transform-style: preserve-3d;

  ///////////////// PROPERTIES /////////////////

  //// Text Color
  &[data-text-color="white"] {
    color: $white;
    text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
  }
  &[data-text-color="black"] {
    color: #222;
  }

  //// Text Horizontal Alignment
  &[data-text-align="right"] {
    .haiku-text, .placeholder {
      text-align: right;
      right: 2.2rem;
      left: 0;
    }
  }
  &[data-text-align="left"] {
    .haiku-text, .placeholder {
      text-align: left;
      left: 2.2rem;
      right: 0;
    }
  }
  &[data-text-align="center"] {
    .haiku-text, .placeholder {
      text-align: center;
      left: 0;
      right: 0;
    }
  }

  //// Text Vertical Alignment
  &[data-text-valign="top"] {
    .haiku-text, .placeholder { top: 2rem; }
  }
  &[data-text-valign="bottom"] {
    .haiku-text, .placeholder { bottom: 1.5rem; }

    // IF we're including actions in the same container (as is the case
    // on the main profile page), we need to add 2rem spacing for the
    // actions bar.
    &[data-include-actions="true"] {
      .haiku-text, .placeholder { bottom: 1.5rem + 2rem; }
    }
  }
  &[data-text-valign="center"] {
    .haiku-text, .placeholder {
      top: 50%;
      transform: translateY(-50%);
    }
  }

  // Image Horizontal Position
  &[data-image-align="left"][data-image-valign="top"] {
    background-position: left top;
  }
  &[data-image-align="left"][data-image-valign="center"] {
    background-position: left center;
  }
  &[data-image-align="left"][data-image-valign="bottom"] {
    background-position: left bottom;
  }
  &[data-image-align="center"][data-image-valign="top"] {
    background-position: center top;
  }
  &[data-image-align="center"][data-image-valign="center"] {
    background-position: center center;
  }
  &[data-image-align="center"][data-image-valign="bottom"] {
    background-position: center bottom;
  }
  &[data-image-align="right"][data-image-valign="top"] {
    background-position: right top;
  }
  &[data-image-align="right"][data-image-valign="center"] {
    background-position: right center;
  }
  &[data-image-align="right"][data-image-valign="bottom"] {
    background-position: right bottom;
  }

  // Overlay Direction and Color
  $directions: ('top', 'bottom', 'left', 'right');

  @each $direction in $directions {
    &[data-overlay-direction="#{$direction}"][data-overlay-color="black"] {
      .visibility-gradient {
        background: linear-gradient(to #{$direction}, rgba(0,0,0,0) 0%,rgba(0,0,0,0.65) 100%);
      }
    }
    &[data-overlay-direction="#{$direction}"][data-overlay-color="white"] {
      .visibility-gradient {
        background: linear-gradient(to #{$direction}, rgba(255,255,255,0) 0%,rgba(255,255,255,0.45) 100%);
        background-blend-mode: multiply;
        -webkit-filter: blur(3px);
        filter: blur(3px);
      }
    }

  }

  // &[data-overlay-direction="right"][data-overlay-color="black"] {
  //   .visibility-gradient {
  //     background: linear-gradient(to right,  rgba(0,0,0,0) 0%,rgba(0,0,0,0.65) 100%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */
  //   }
  // }

  #haiku-body {
    z-index: 10;
  }

  .visibility-gradient {
    position: absolute;
    z-index: 0;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
  }

  .haiku-text {
    position: absolute;
    font-size: 1.3rem;
  }

}
